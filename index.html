<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solium Presale & Airdrop</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            text-align: center;
        }
        .container { margin-top: 50px; }
        .card {
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            max-width: 600px;
            margin: 20px auto;
        }
        button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:disabled {
            background: gray;
        }
    </style>
    <script>
    if (window.solflare) {
        window.solana = window.solflare;
    }
    </script>
</head>
<body>

<button id="wallet-btn">Connect Wallet</button>
<div id="wallet-address"></div>
<div id="balance"></div>

<div class="container">
    <div class="card">
        <h2>Solium Presale</h2>
        <p>1 SOLIUM = 0.001 SOL</p>
        <input type="number" id="solAmount" placeholder="Enter SOL Amount">
        <p>You will receive:</p>
        <h3 id="soliumAmount">0 SOLIUM</h3>
        <button id="buyBtn" disabled>Buy SOLIUM</button>
    </div>

    <div class="card">
        <h2>Solium Airdrop</h2>
        <button id="airdropBtn" disabled>Claim Airdrop</button>
    </div>
</div>

<script src="https://unpkg.com/@solana/web3.js@1.75.0"></script>
<script>
    let walletAddress = null;
    let solana;

    document.getElementById("wallet-btn").onclick = async function() {
        solana = window.solana;
        
        if (!solana) {
            alert("Solana wallet not found! Please install Solflare or Phantom.");
            return;
        }

        try {
            const response = await solana.connect();
            walletAddress = response.publicKey.toString();
            document.getElementById("wallet-address").innerText = "Connected: " + walletAddress;
            
            enableButtons();
            getBalance();
        } catch (err) {
            console.error("Wallet connection failed:", err);
            alert("Wallet connection failed. Please try again.");
        }
    };

    async function getBalance() {
        if (!walletAddress) return;
        
        const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl("devnet"));
        const balance = await connection.getBalance(new solanaWeb3.PublicKey(walletAddress));
        document.getElementById("balance").innerText = "Balance: " + (balance / solanaWeb3.LAMPORTS_PER_SOL) + " SOL";
    }

    function enableButtons() {
        document.getElementById("buyBtn").disabled = false;
        document.getElementById("airdropBtn").disabled = false;
    }

    document.getElementById("buyBtn").onclick = function() {
        alert("Presale transaction sent!");
    };

    document.getElementById("airdropBtn").onclick = function() {
        alert("Airdrop request sent!");
    };
</script>
</body>
</html>
